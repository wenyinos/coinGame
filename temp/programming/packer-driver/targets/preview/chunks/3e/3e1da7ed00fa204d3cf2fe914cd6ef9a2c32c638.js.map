{"version":3,"sources":["file:///D:/MyCoding/Cosos/coinGame/assets/scripts/view/ToastView.ts"],"names":["_decorator","Component","director","UIOpacity","Tween","Label","events","ccclass","property","ToastCtrl","_tw","time","onEnable","on","Toast","showToast","toast","opacity","target","set","to","delay","onDisable","off","text","string","start"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,Q,OAAAA,Q;AAAUC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,K,OAAAA,K;AAAaC,MAAAA,K,OAAAA,K;;AAC/DC,MAAAA,M,iBAAAA,M;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBR,U;;2BAGjBS,S,WADZF,OAAO,CAAC,WAAD,C,UAGHC,QAAQ,CAACH,KAAD,C,UAGRG,QAAQ,CAACL,SAAD,C,2BANb,MACaM,SADb,SAC+BR,SAD/B,CACyC;AAAA;AAAA;;AAAA;;AAAA;;AAAA,eAQ7BS,GAR6B,GAQvB,IAAIN,KAAJ,EARuB;AAAA,eAS7BO,IAT6B,GAStB,CATsB;AAAA;;AAWrCC,QAAAA,QAAQ,GAAG;AACPV,UAAAA,QAAQ,CAACW,EAAT,CAAY;AAAA;AAAA,gCAAOC,KAAnB,EAA0B,KAAKC,SAA/B,EAA0C,IAA1C;AACA,eAAKC,KAAL,CAAWC,OAAX,GAAqB,CAArB;;AACA,eAAKP,GAAL,CAASQ,MAAT,CAAgB,KAAKF,KAArB;;AACA,eAAKN,GAAL,CAASS,GAAT,CAAa;AAAEF,YAAAA,OAAO,EAAE;AAAX,WAAb,EAA6BG,EAA7B,CAAgC,GAAhC,EAAqC;AAAEH,YAAAA,OAAO,EAAE;AAAX,WAArC,EAAuDI,KAAvD,CAA6D,KAAKV,IAAlE,EAAwES,EAAxE,CAA2E,IAA3E,EAAiF;AAAEH,YAAAA,OAAO,EAAE;AAAX,WAAjF;AACH;;AAEDK,QAAAA,SAAS,GAAG;AACRpB,UAAAA,QAAQ,CAACqB,GAAT,CAAa;AAAA;AAAA,gCAAOT,KAApB,EAA2B,KAAKC,SAAhC,EAA2C,IAA3C;AACH;AAED;;;AACAA,QAAAA,SAAS,CAACS,IAAD,EAAOb,IAAP,EAAiB;AAAA,cAAVA,IAAU;AAAVA,YAAAA,IAAU,GAAH,CAAG;AAAA;;AAEtB,eAAKA,IAAL,GAAYA,IAAZ;AAEA,eAAKa,IAAL,CAAUC,MAAV,GAAmBD,IAAnB;;AAEA,eAAKd,GAAL,CAASgB,KAAT;AAEH;;AA/BoC,O;;;;;iBAGvB,I;;;;;;;iBAGK,I","sourcesContent":["\r\nimport { _decorator, Component, Node, director, UIOpacity, Tween, view, Label } from 'cc';\r\nimport { events } from '../frame/Enums';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('ToastCtrl')\r\nexport class ToastCtrl extends Component {\r\n\r\n    @property(Label)\r\n    text: Label = null;\r\n\r\n    @property(UIOpacity)\r\n    toast: UIOpacity = null;\r\n\r\n    private _tw = new Tween();\r\n    private time = 1;\r\n\r\n    onEnable() {\r\n        director.on(events.Toast, this.showToast, this);\r\n        this.toast.opacity = 0;\r\n        this._tw.target(this.toast);\r\n        this._tw.set({ opacity: 0 }).to(0.6, { opacity: 255 }).delay(this.time).to(0.25, { opacity: 0 });\r\n    }\r\n\r\n    onDisable() {\r\n        director.off(events.Toast, this.showToast, this);\r\n    }\r\n\r\n    /* show toast */\r\n    showToast(text, time = 2) {\r\n\r\n        this.time = time;\r\n\r\n        this.text.string = text;\r\n\r\n        this._tw.start();\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n"]}