{"version":3,"sources":["file:///D:/MyCoding/Cosos/coinGame/assets/scripts/view/BaseView.ts"],"names":["_decorator","Component","Node","Vec3","Clips","Props","aa","ccclass","property","BaseView","displayOrder","group","View","type","visible","tweenView","Ad","tooltip","showBannerAd","range","showIntersitialAd","showVideoAd","onEnable","playBtnClip","sound","play","btn","root","node","setScale","ZERO","scheduleOnce","utils","fadeIn","showAds","onDisable","hideBannerOnClose","closeAd","close","fadeOut","res","putNode","showBanner","bannerDelay","showIntersitial","intersitialDelay","showVideo","CB"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node, Vec3 } from 'cc';\r\nimport { Clips, Props } from '../frame/Enums';\r\nimport { aa } from '../frame/FrameCore';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('BaseView')\r\nexport class BaseView extends Component {\r\n\r\n    @property({\r\n        displayOrder: 0,\r\n        group: Props.View\r\n    })\r\n    tweenView = true;\r\n    @property({\r\n        type: Node,\r\n        visible() {\r\n            return this.tweenView;\r\n        },\r\n        displayOrder: 0,\r\n        group: Props.View\r\n    })\r\n    root: Node = null\r\n    @property({\r\n        visible() {\r\n            return this.tweenView;\r\n        },\r\n        displayOrder: 0,\r\n        group: Props.View\r\n    })\r\n    tweenTime = 0.25;\r\n    @property({\r\n        displayOrder: 0,\r\n        group: Props.View\r\n    })\r\n    playBtnClip = true;\r\n\r\n    @property({\r\n  \r\n        group: Props.Ad,\r\n        tooltip: \"show Banner on Start\"\r\n    })\r\n    showBannerAd = false;\r\n\r\n    @property({\r\n        visible() {\r\n            return this.showBannerAd;\r\n        },\r\n        range: [0, 5],\r\n        group: Props.Ad\r\n    })\r\n    bannerDelay = 0;\r\n    @property({\r\n        visible() {\r\n            return this.showBannerAd;\r\n        },\r\n        group: Props.Ad,\r\n        tooltip: \"hide Banner on Start\"\r\n    })\r\n    hideBannerOnClose = true;\r\n    @property({\r\n        visible() {\r\n            return this.showBannerAd;\r\n        },\r\n        group: Props.Ad\r\n    })\r\n    displayinSmallscreen = true;\r\n    @property({\r\n        group: Props.Ad,\r\n        tooltip: \"show Intersitial Ad on Start\"\r\n    })\r\n    showIntersitialAd = false;\r\n    @property({\r\n        visible() {\r\n            return this.showIntersitialAd;\r\n        },\r\n        range: [0, 5],\r\n        group: Props.Ad\r\n    })\r\n    intersitialDelay = 0;\r\n    @property({\r\n        group: Props.Ad,\r\n        tooltip: \"show video Ad on Start\"\r\n    })\r\n    showVideoAd = false;\r\n    @property({\r\n        visible() {\r\n            return this.showVideoAd;\r\n        },\r\n        range: [0, 5],\r\n        group: Props.Ad\r\n    })\r\n    videoDelay = 0;\r\n\r\n    onEnable() {\r\n        this.playBtnClip && aa.sound.play(Clips.btn);\r\n        if (this.tweenView) {\r\n            if (!this.root) {\r\n                this.root = this.node;\r\n                this.root.setScale(Vec3.ZERO);\r\n                this.scheduleOnce(() => {\r\n                    aa.utils.fadeIn(this.root);\r\n                })\r\n            } else {\r\n                this.root.setScale(Vec3.ZERO);\r\n                aa.utils.fadeIn(this.root);\r\n            }\r\n\r\n        }\r\n        this.showAds();\r\n    }\r\n\r\n    onDisable(){\r\n        if (this.hideBannerOnClose) {\r\n            this.closeAd();\r\n        }\r\n    }\r\n\r\n    close() {\r\n        this.playBtnClip && aa.sound.play(Clips.btn, 0.5);\r\n        if (this.showBannerAd) this.closeAd()\r\n        if (this.tweenView) {\r\n            if (!this.root) this.root = this.node;\r\n            aa.utils.fadeOut(this.root, () => {\r\n                aa.res.putNode(this.node);\r\n            })\r\n        } else {\r\n            aa.res.putNode(this.node);\r\n        }\r\n    }\r\n    showAds() {\r\n   \r\n        if (this.showBannerAd) {\r\n            this.scheduleOnce(() => {\r\n                this.showBanner();\r\n            }, this.bannerDelay)\r\n        }\r\n        if (this.showIntersitialAd) {\r\n            this.scheduleOnce(() => {\r\n                this.showIntersitial();\r\n            }, this.intersitialDelay)\r\n        }\r\n        if (this.showVideoAd) {\r\n            this.scheduleOnce(() => {\r\n                this.showVideo();\r\n            }, this.bannerDelay)\r\n        }\r\n\r\n    }\r\n    closeAd() {\r\n    }\r\n\r\n    showBanner() {\r\n    }\r\n    showVideo(CB = null) {\r\n\r\n    }\r\n    showIntersitial() {\r\n    }\r\n\r\n}\r\n\r\n"]}